<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ANYAO - Landing Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", sans-serif;
        background-color: #13162a !important;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
      }

      /* ── Star canvas ── */
      #starCanvas {
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: 0;
      }

      /* ── Centre container ── */
      .landing-container {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 52px;
        animation: fadeInUp 0.9s ease both;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(28px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ── Logo wrapper – aura only, no box ── */
      .logo-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Aura blob behind the logo */
      .logo-wrapper::before {
        content: "";
        position: absolute;
        width: 520px;
        height: 260px;
        border-radius: 50%;
        background: radial-gradient(
          ellipse at center,
          rgba(73, 244, 223, 0.22) 0%,
          rgba(73, 244, 223, 0.08) 45%,
          transparent 75%
        );
        filter: blur(18px);
        animation: aura-pulse 6s ease-in-out infinite;
        z-index: 0;
      }

      @keyframes aura-pulse {
        10% {
          opacity: 0.85;
          transform: scale(1);
        }
        20% {
          opacity: 1;
          transform: scale(1.05);
        }
        40% {
          opacity: 0.35;
          transform: scale(0.98);
        } /* blink dip */
        55% {
          opacity: 0.95;
          transform: scale(1.04);
        }
        75% {
          opacity: 0.3;
          transform: scale(0.97);
        } /* blink dip */
        100% {
          opacity: 0.85;
          transform: scale(1);
        }
      }

      .logo-img {
        position: relative;
        z-index: 1;
        height: 220px;
        width: auto;
        display: block;
        filter: drop-shadow(0 0 28px rgba(73, 244, 223, 0.35));
      }

      /* ── Next button ── */
      .btn {
        background: #49f4df;
        color: #0b2e2a;
        border: none;
        padding: 14px 56px;
        font-size: 18px;
        font-weight: 700;
        border-radius: 12px;
        cursor: pointer;
        letter-spacing: 0.4px;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition:
          transform 0.2s ease,
          box-shadow 0.2s ease,
          background 0.2s ease;
        box-shadow: 0 4px 28px rgba(73, 244, 223, 0.28);
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 36px rgba(73, 244, 223, 0.45);
        background: #6af7e8;
      }

      .btn:active {
        transform: translateY(0);
      }

      .btn i {
        font-size: 16px;
        transition: transform 0.2s ease;
      }

      .btn:hover i {
        transform: translateX(5px);
      }

      /* ── Page-transition overlay ── */
      #fadeOverlay {
        position: fixed;
        inset: 0;
        background: #13162a;
        opacity: 0;
        pointer-events: none;
        z-index: 9999;
        transition: opacity 0.6s ease;
      }

      #fadeOverlay.active {
        opacity: 1;
        pointer-events: all;
      }
    </style>
  </head>
  <body>
    <!-- Page-transition overlay -->
    <div id="fadeOverlay"></div>

    <!-- Falling-star canvas -->
    <canvas id="starCanvas"></canvas>

    <div class="landing-container">
      <div class="logo-wrapper">
        <img
          src="{{ url_for('static', filename='ANYAO.png') }}"
          alt="ANYAO"
          class="logo-img"
        />
      </div>

      <button class="btn" id="nextBtn">
        Next
        <i class="fa-solid fa-arrow-right"></i>
      </button>
    </div>

    <script>
      /* ── Falling-star animation ── */
      const canvas = document.getElementById("starCanvas");
      const ctx = canvas.getContext("2d");

      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      resize();
      window.addEventListener("resize", resize);

      const STAR_COUNT = 120;
      const stars = [];

      function randomStar() {
        return {
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height - canvas.height, // start above viewport
          len: Math.random() * 18 + 6, // tail length
          speed: Math.random() * 2.5 + 1, // fall speed
          opacity: Math.random() * 0.6 + 0.3,
          size: Math.random() * 1.5 + 0.5, // head dot size
          angle: Math.PI / 2 + (Math.random() - 0.5) * 0.3, // mostly downward, slight drift
        };
      }

      for (let i = 0; i < STAR_COUNT; i++) {
        const s = randomStar();
        s.y = Math.random() * canvas.height; // scatter initial positions
        stars.push(s);
      }

      function drawStar(s) {
        const dx = Math.cos(s.angle);
        const dy = Math.sin(s.angle);

        // Tail gradient
        const grd = ctx.createLinearGradient(
          s.x,
          s.y,
          s.x - dx * s.len,
          s.y - dy * s.len,
        );
        grd.addColorStop(0, `rgba(255, 220, 60, ${s.opacity})`);
        grd.addColorStop(1, `rgba(255, 220, 60, 0)`);

        ctx.beginPath();
        ctx.moveTo(s.x, s.y);
        ctx.lineTo(s.x - dx * s.len, s.y - dy * s.len);
        ctx.strokeStyle = grd;
        ctx.lineWidth = s.size;
        ctx.stroke();

        // Bright head dot
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.size * 0.9, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 245, 180, ${s.opacity})`;
        ctx.fill();
      }

      function update(s) {
        s.x += Math.cos(s.angle) * s.speed;
        s.y += Math.sin(s.angle) * s.speed;

        // Reset when off-screen
        if (
          s.y > canvas.height + s.len ||
          s.x < -s.len ||
          s.x > canvas.width + s.len
        ) {
          Object.assign(s, randomStar());
        }
      }

      function loop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        stars.forEach((s) => {
          update(s);
          drawStar(s);
        });
        requestAnimationFrame(loop);
      }
      loop();

      /* ── Fade-out transition on Next click ── */
      document.getElementById("nextBtn").addEventListener("click", function () {
        const overlay = document.getElementById("fadeOverlay");
        overlay.classList.add("active");
        setTimeout(function () {
          window.location.href = "/home";
        }, 620); // slightly longer than the CSS transition
      });
    </script>
  </body>
</html>
